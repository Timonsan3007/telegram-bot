from datetime import datetime

# –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
TRANSPORT_SCHEDULE = {
    "üìç –®–∫–æ–ª–∞ –ò—Å–∫—É—Å—Å—Ç–≤ (–Ω–∞ —Ä–∞–±–æ—Ç—É)": {
        "üöå –∞–≤—Ç–æ–±—É—Å ‚Ññ35": [
            "06:03", "06:13", "06:23", "06:33", "06:43", "06:49", "06:55", "07:01", "07:07", "07:13",
            "07:19", "07:25", "07:31", "07:37", "07:43", "07:49", "07:55", "08:01", "08:07", "08:13",
            "08:19", "08:25", "08:31", "08:37", "08:43", "08:49", "08:55", "09:01", "09:07", "09:17",
            "09:27", "09:37", "09:47", "09:57", "10:07", "10:15", "10:23", "10:31", "10:39", "10:47",
            "10:55", "11:03", "11:11", "11:19", "11:27", "11:35", "11:43", "11:51", "11:59", "12:07",
            "12:15", "12:23", "12:31", "12:39", "12:47", "12:55", "13:03", "13:11", "13:19", "13:27",
            "13:35", "13:43", "13:51", "13:59", "14:07", "14:15", "14:23", "14:31", "14:39", "14:47",
            "14:55", "15:03", "15:11", "15:19", "15:27", "15:33", "15:39", "15:45", "15:51", "15:57",
            "16:03", "16:09", "16:15", "16:21", "16:27", "16:33", "16:39", "16:45", "16:51", "16:57",
            "17:03", "17:09", "17:15", "17:21", "17:27", "17:33", "17:39", "17:45", "17:51", "17:57",
            "18:03", "18:09", "18:15", "18:21", "18:27", "18:33", "18:39", "18:45", "18:51", "18:57",
            "19:03", "19:15", "19:27", "19:39", "19:51", "20:03", "20:15", "20:27", "20:39", "20:51",
            "21:03", "21:15", "21:27", "21:39", "21:51", "22:03", "22:15", "22:27", "22:39", "22:51",
            "23:03", "23:15"
        ],
        "üöé —Ç—Ä–æ–ª–ª–µ–π–±—É—Å ‚Ññ15–∞": [
            "06:19", "06:34", "06:48", "07:02", "07:08", "07:14", "07:20", "07:27", "07:34", "07:42",
            "07:49", "07:56", "08:04", "08:11", "08:19", "08:26", "08:34", "08:41", "08:48", "08:55",
            "09:02", "09:10", "09:16", "09:24", "09:31", "09:39", "09:46", "09:54", "10:02", "10:13",
            "10:24", "10:35", "10:46", "10:57", "11:08", "11:19", "11:30", "11:41", "11:52", "12:02",
            "12:13", "12:24", "12:34", "12:45", "12:56", "13:06", "13:17", "13:28", "13:38", "13:47",
            "13:56", "14:05", "14:14", "14:23", "14:32", "14:41", "14:51", "15:00", "15:09", "15:18",
            "15:27", "15:37", "15:46", "15:55", "16:05", "16:16", "16:27", "16:38", "16:49", "16:59",
            "17:09", "17:18", "17:27", "17:35", "17:42", "17:49", "17:56", "18:03", "18:10", "18:17",
            "18:24", "18:30", "18:37", "18:49", "18:52", "19:03", "19:07", "19:17", "19:23", "19:32",
            "19:45", "19:58", "20:11", "20:24", "20:38", "20:50", "21:02", "21:14", "21:26", "21:38",
            "21:49", "22:01", "22:12", "22:22", "22:48", "22:56", "23:14"
        ]
    },
    "üìç –ü–ª–æ—â–∞–¥—å –õ–µ–Ω–∏–Ω–∞ (–¥–æ–º–æ–π)": {
        "üöå –∞–≤—Ç–æ–±—É—Å ‚Ññ35": [
            "06:02", "06:12", "06:22", "06:32", "06:42", "06:48", "06:54", "07:00", "07:07", "07:14",
            "07:20", "07:26", "07:32", "07:38", "07:44", "07:50", "07:56", "08:02", "08:08", "08:14",
            "08:20", "08:26", "08:32", "08:38", "08:44", "08:50", "08:56", "09:02", "09:08", "09:14",
            "09:20", "09:26", "09:32", "09:38", "09:44", "09:50", "09:56", "10:06", "10:16", "10:26",
            "10:36", "10:46", "10:56", "11:04", "11:12", "11:20", "11:28", "11:36", "11:44", "11:52",
            "12:00", "12:08", "12:16", "12:24", "12:32", "12:40", "12:48", "12:56", "13:04", "13:12",
            "13:20", "13:28", "13:36", "13:44", "13:52", "14:00", "14:08", "14:16", "14:24", "14:32",
            "14:40", "14:48", "14:56", "15:04", "15:12", "15:20", "15:28", "15:36", "15:44", "15:52",
            "16:00", "16:08", "16:16", "16:22", "16:28", "16:34", "16:40", "16:46", "16:52", "16:58",
            "17:04", "17:10", "17:16", "17:22", "17:28", "17:34", "17:40", "17:46", "17:52", "17:58",
            "18:04", "18:10", "18:16", "18:22", "18:28", "18:34", "18:40", "18:46", "18:52", "18:58",
            "19:04", "19:16", "19:28", "19:40", "19:52", "20:04", "20:16", "20:28", "20:40", "20:52",
            "21:04", "21:16", "21:28", "21:40", "21:52", "22:04", "22:16", "22:28", "22:40", "22:52",
            "23:04", "23:16"
        ]
    },
    "üìç –ö–æ–º—Å–æ–º–æ–ª—å—Å–∫–∞—è (–¥–æ–º–æ–π)": {
        "üöé —Ç—Ä–æ–ª–ª–µ–π–±—É—Å ‚Ññ15–∞": [
            "05:41", "06:15", "06:27", "06:41", "06:56", "07:11", "07:18", "07:26", "07:33", "07:41",
            "07:48", "07:55", "08:03", "08:10", "08:18", "08:25", "08:33", "08:40", "08:48", "08:56",
            "09:07", "09:18", "09:29", "09:40", "09:51", "10:02", "10:13", "10:24", "10:35", "10:46",
            "10:56", "11:07", "11:18", "11:28", "11:39", "11:50", "12:00", "12:11", "12:22", "12:32",
            "12:41", "12:50", "12:59", "13:08", "13:17", "13:26", "13:35", "13:45", "13:54", "14:03",
            "14:12", "14:21", "14:31", "14:40", "14:49", "14:59", "15:10", "15:21", "15:32", "15:43",
            "15:53", "16:02", "16:11", "16:20", "16:27", "16:34", "16:41", "16:48", "16:56", "17:03",
            "17:10", "17:19", "17:28", "17:37", "17:46", "17:55", "18:04", "18:13", "18:14", "18:22",
            "18:36", "18:39", "18:45", "18:50", "18:55", "19:05", "19:10", "19:19", "19:26", "19:34",
            "19:46", "19:58", "20:10", "20:22", "20:34", "20:46", "20:58", "21:10", "21:22", "21:35",
            "21:41", "21:59", "22:10", "22:18", "22:53", "23:14"
        ]
    }
}

def get_next_departures(schedule, current_time):
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –±–ª–∏–∂–∞–π—à–∏—Ö —Ä–µ–π—Å–æ–≤.
    """
    departures = []
    for time_str in schedule:
        time_obj = datetime.strptime(time_str, "%H:%M").time()
        if time_obj >= current_time:
            departures.append(time_str)
        if len(departures) == 3:  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º 3 —Ä–µ–π—Å–∞
            break
    return departures

def get_transport_schedule():
    """
    –§–æ—Ä–º–∏—Ä—É–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.
    """
    current_time = datetime.now().time()
    response = ["üìå *–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞*"]  # –ó–∞–≥–æ–ª–æ–≤–æ–∫

    for stop, routes in TRANSPORT_SCHEDULE.items():
        response.append(f"üìç *{stop}*")
        for route, times in routes.items():
            next_departures = get_next_departures(times, current_time)
            if next_departures:
                response.append(f"{route}: {', '.join(next_departures)}")
            else:
                response.append(f"{route}: –†–µ–π—Å–æ–≤ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –±–æ–ª—å—à–µ –Ω–µ—Ç.")
    return "\n".join(response)


